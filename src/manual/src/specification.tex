
\section{Спецификация}

Исходный код спецификации, как и любого другого документа \LaTeX{}, должен
начинаться с команды \bfemph{\textbackslash{}documentclass}. В основном аргументе
команды(в фигурных скобках) следует указать класс документа \sfemph{pcbdoc}, а в
необязательном(в квадратных скобках) --- ключ \sfemph{doctype=spec}.

\begin{pcbdoccode}
\documentclass[doctype=spec]{pcbdoc}
\end{pcbdoccode}

Далее(в преамбуле) должны находиться команды заполнения полей документа. Их можно
разместить либо непосредственно в преамбуле, либо в отдельном пакете, включаемом в
преамбулу с помощью команды \bfsf{\textbackslash{}usepackage}. Тело документа,
находящееся после преамбулы, должно начинаться с команды

\begin{pcbdoccode}
\begin{document}
\end{pcbdoccode}

а заканчиваться командой

\begin{pcbdoccode}
\end{document}
\end{pcbdoccode}

Внутри тела документа должно находиться
окружение \sfemph{Specification}, которое начинается с команды

\begin{pcbdoccode}
\begin{Specification}
\end{pcbdoccode}

а заканчивается командой

\begin{pcbdoccode}
\end{Specification}
\end{pcbdoccode}

Внутри окружения \sfemph{Specification} должны находиться команды заполнения строк
спецификации.

Базовой командой заполнения строки спецификации, на которой основаны все остальные
команды, является команда \bfemph{\textbackslash{}Line}. Её необходимо использовать,
если функциональности основанных на ней команд недостаточно. Эта команда принимает семь
аргументов, которые печатаются в колонках
\colorbox{resultcolor}{\sfemph{~~Формат~~}}, \colorbox{resultcolor}{\sfemph{~~Зона~~}},
\colorbox{resultcolor}{\sfemph{~~Поз.~~}}, \colorbox{resultcolor}{\sfemph{Обозначение}},
\colorbox{resultcolor}{\sfemph{Наименование}}, \colorbox{resultcolor}{\sfemph{Кол.}} и
\colorbox{resultcolor}{\sfemph{Примечание}}. Команды, основанные на
команде \bfemph{\textbackslash{}Line}, могут иметь встроенный счётчик, значение которого
заносится в колонку \colorbox{resultcolor}{\sfemph{Поз.}}. Описание команды
\bfemph{\textbackslash{}Line}, а также команд заполнения строк спецификации без
встроенного счётчика приведенно в \bfsf{Таблице~\ref{tabular:speclines1}}.

Базовой командой заполнения строки спецификации со встроенным счётчиком является команда
\bfemph{\textbackslash{}Detail}. Она основана на команде \bfemph{\textbackslash{}Line} и
принимает семь аргументов, которые печатаются в колонках
\colorbox{resultcolor}{\sfemph{Поз.}}, \colorbox{resultcolor}{\sfemph{Формат}},
\colorbox{resultcolor}{\sfemph{Зона}}, \colorbox{resultcolor}{\sfemph{Обозначение}},
\colorbox{resultcolor}{\sfemph{Наименование}}, \colorbox{resultcolor}{\sfemph{Кол.}} и
\colorbox{resultcolor}{\sfemph{Примечание}}. Как и в случае с командой
\bfemph{\textbackslash{}Line}, данную команду имеет смысл использовать при отсутствии
требуемой функциональности у основанных на ней команд. Описание команды
\bfemph{\textbackslash{}Detail}, а также команд заполнения строк спецификации со
встроенным счётчиком приведено в \bfsf{Таблице~\ref{tabular:speclines2}}.

\clearpage

\tikztableset{speclines table1}{
  draw,nodes=draw,
  row 1/.style={minimum height=6mm,font=\sffamily\bfseries,align=center},
  column 1/.style={font=\sffamily\bfseries\itshape\small,align=left,text width=35mm},
  column 2/.style={font=\small,align=justify,text width=105mm},
}

\begin{tikztablex}[speclines table1]
{
\caption{Команды заполнения строк спецификации\\без встроенного счётчика}
\label{tabular:speclines1}
}
{
Команда & Описание\\
{\textbackslash{}Line\\
\{<format>\}\\
\{<zone>\}\\
\{<reference>\}\\
\{<designating>\}\\
\{<naming>\}\\
\{<quantity>\}\\
\{<note>\}}
&
Базовая команда заполнения строки спецификации. Аргументы \sfemph{<format>},
\sfemph{<zone>}, \sfemph{<reference>}, \sfemph{<designating>}, \sfemph{<naming>},
\sfemph{<quantity>} и \sfemph{<note>} печатаются в колонках
\colorbox{resultcolor}{\sfemph{~~Формат~~}}, \colorbox{resultcolor}{\sfemph{~~Зона~~}},
\colorbox{resultcolor}{\sfemph{~~Поз.~~}}, \colorbox{resultcolor}{\sfemph{Обозначение}},
\colorbox{resultcolor}{\sfemph{Наименование}}, \colorbox{resultcolor}{\sfemph{Кол.}} и
\colorbox{resultcolor}{\sfemph{Примечание}} соответственно.\\
\textbackslash{}Part\{<name>\} &
Печатает подчёркнутый аргумент \sfemph{<name>} в центре колонки
\colorbox{resultcolor}{\sfemph{Наименование}} Например:\\
&\\
\textbackslash{}Sb\{<format>\} &
Заполняет строку спецификации, добавляя запись о сборочном чертеже. Аргумент
\sfemph{<format>} печатается в колонке \colorbox{resultcolor}{\sfemph{Формат}}. В
случае, если аргумент \sfemph{<format>} не помещается в этой колонке, он печатается в
колонке \colorbox{resultcolor}{\sfemph{Примечание}}, а в колонке
\colorbox{resultcolor}{\sfemph{Формат}} печатается символ \bfemph{*}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида \sfemph{<number>СБ},
где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается текст \sfemph{Сборочный
чертеж}.\\
\textbackslash{}Sch\{<format>\} &
Заполняет строку спецификации, добавляя запись о схеме электрической принципиальной.
Аргумент \sfemph{<format>} печатается в колонке
\colorbox{resultcolor}{\sfemph{Формат}}. В случае, если аргумент \sfemph{<format>} не
помещается в этой колонке, он печатается в колонке
\colorbox{resultcolor}{\sfemph{Примечание}}, а в колонке
\colorbox{resultcolor}{\sfemph{Формат}} печатается символ \bfemph{*}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида \sfemph{<number>Э3},
где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается двустрочный текст
\sfemph{Схема электрическая принципиальная}.\\
\textbackslash{}El &
Заполняет строку спецификации, добавляя запись о перечне элементов.
В колонке \colorbox{resultcolor}{\sfemph{Формат}} печатается текст \sfemph{A4}.
В колонке \colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида
\sfemph{<number>ПЭ}, где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается текст
\sfemph{Перечень элементов}.\\
\textbackslash{}Dd[<note>] &
Заполняет строку спецификации, добавляя запись о конструкторских данных. В колонке
\colorbox{resultcolor}{\sfemph{Формат}} печатается символ \sfemph{-}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида
\sfemph{<number>Д36}, где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}PcbNumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается текст \sfemph{Конструкторские
данные}. В колонке \colorbox{resultcolor}{\sfemph{Примечание}} печатается
необязательный аргумент \sfemph{<note>}(\sfemph{на CD} по умолчанию)\\
};
\end{tikztablex}

\clearpage

\begin{tikztablex}[draw,speclines table1]
{
\caption{Команды заполнения строк спецификации\\без встроенного счётчика. Продолжение}
\label{tabular:speclines1}
}
{
Команда & Описание\\
\textbackslash{}ICd[<note>] &
Заполняет строку спецификации, добавляя запись о данных микросхем. В колонке
\colorbox{resultcolor}{\sfemph{Формат}} печатается символ \sfemph{-}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида
\sfemph{<number>Д66}, где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается текст \sfemph{Данные
микросхем}. В колонке \colorbox{resultcolor}{\sfemph{Примечание}} печатается
необязательный аргумент \sfemph{<note>}(\sfemph{на CD} по умолчанию)\\
\textbackslash{}DigDoc[<note>] &
Заполняет строку спецификации, добавляя запись о документации в электронном виде. В
колонке \colorbox{resultcolor}{\sfemph{Формат}} печатается символ \sfemph{-}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида
\sfemph{<number>ДМ}, где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается двустрочный текст
\sfemph{КД на магнитном носителе данных}. В колонке
\colorbox{resultcolor}{\sfemph{Примечание}} печатается необязательный аргумент
\sfemph{<note>}(\sfemph{на CD} по умолчанию)\\
\textbackslash{}Ai &
Заполняет строку спецификации, добавляя запись о инструкции по настройке. В колонке
\colorbox{resultcolor}{\sfemph{Формат}} печатается текст \sfemph{A4}. В колонке
\colorbox{resultcolor}{\sfemph{Обозначение}} печатается текст вида
\sfemph{<number>И2}, где \sfemph{<number>} - аргумент команды
\bfemph{\textbackslash{}NumberSet}(см. таблицу~\ref{tabular:fields}). В колонке
\colorbox{resultcolor}{\sfemph{Наименование}} печатается текст
\sfemph{Инструкция по настройке}.\\
};
\end{tikztablex}
~\\[-18mm]

Команды заполнения строк спецификации без встроенного счётчика используются автором для
создания разделов спецификации(команда \bfemph{\textbackslash{}Part}), а также для
заполнения раздела \sfemph{Документация}. Например:

\begin{pcbdoccode}
...
\Part{Документация}
% Сборочный чертеж:
\Sb{A3}
% Схема электрическая принципиальная:
\Sch{A3}
% Перечень элементов:
\El
% Инструкция по настройке:
\Ai
% Данные микросхем:
\ICd
% Конструкторские данные:
\Dd
% Документация в электронном виде:
\DigDoc
...
\end{pcbdoccode}

\tikztableset{speclines table2}{
  draw,nodes=draw,
  row 1/.style={minimum height=6mm,font=\sffamily\bfseries,align=center},
  column 1/.style={font=\sffamily\bfseries\itshape\small,align=left,text width=35mm},
  column 2/.style={font=\small,align=justify,text width=105mm},
}

\begin{tikztablex}[draw,speclines table2]
{
\caption{Команды заполнения строк спецификации\\со встроенным счётчиком}
\label{tabular:speclines2}
}
{
Команда & Описание\\
{\textbackslash{}Detail[<reference>]\\
\{<format>\}\\
\{<zone>\}\\
\{<designating>\}\\
\{<naming>\}\\
\{<quantity>\}\\
\{<note>\}}
& Базовая команда заполнения строки спецификации со встроенным
счётчиком. Необязательный аргумент \sfemph{<reference>} управляет встроенным счётчиком
позиционного обозначения. Если аргумент \sfemph{<reference>} имеет значение \sfemph{-},
счетчик позиционного обозначения не инкрементируется, а в колонку
\colorbox{resultcolor}{\sfemph{~~Поз~~}} записывается символ \sfemph{-}. Если данный
аргумент имеет значение \sfemph{0}, счетчик позиционного обозначения также не
инкрементируется, а в колонку \colorbox{resultcolor}{\sfemph{~~Поз~~}} ничего не
записывается. Если значением аргумента является положительное число, счётчик
инкрементируется на это число, а если отрицательное --- счётчик принимает значение
модуля этого числа. В двух последних случаях в колонку {\sfemph{~~Поз~~}} записывается
значение счетчика. Значением этого аргумента по умолчанию является
\sfemph{1}. Аргументы \sfemph{<format>}, \sfemph{<zone>}, \sfemph{<designating>},
\sfemph{<naming>}, \sfemph{<quantity>} и \sfemph{<note>} печатаются в колонках
\colorbox{resultcolor}{\sfemph{~~Формат~~}},
\colorbox{resultcolor}{\sfemph{~~Зона.~~}},
\colorbox{resultcolor}{\sfemph{Обозначение}},
\colorbox{resultcolor}{\sfemph{Наименование}}, \colorbox{resultcolor}{\sfemph{Кол.}} и
\colorbox{resultcolor}{\sfemph{Примечание}} соответственно.\\
};
\end{tikztablex}

\clearpage
